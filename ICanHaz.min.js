(function(){var a=function(){function g(a){return String(a).replace(/&(?!\w+;)|[<>"']/g,function(a){return f[a]||a})}var a=Object.prototype.toString;Array.isArray=Array.isArray||function(b){return a.call(b)=="[object Array]"};var b=String.prototype.trim,c;if(b){c=function(a){return a==null?"":b.call(a)}}else{var d,e;if(/\S/.test("Â ")){d=/^[\s\xA0]+/;e=/[\s\xA0]+$/}else{d=/^\s+/;e=/\s+$/}c=function(a){return a==null?"":a.toString().replace(d,"").replace(e,"")}}var f={"&":"&","<":"<",">":">",'"':""","'":"&#39;"};var h={};var i=function(){};i.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":true},context:{},render:function(a,b,c,d){if(!d){this.context=b;this.buffer=[]}if(!this.includes("",a)){if(d){return a}else{this.send(a);return}}a=this.render_pragmas(a);var e=this.render_section(a,b,c);if(e===false){e=this.render_tags(a,b,c,d)}if(d){return e}else{this.sendLines(e)}},send:function(a){if(a!==""){this.buffer.push(a)}},sendLines:function(a){if(a){var b=a.split("\n");for(var c=0;c<b.length;c++){this.send(b[c])}}},render_pragmas:function(a){if(!this.includes("%",a)){return a}var b=this;var c=this.getCachedRegex("render_pragmas",function(a,b){return new RegExp(a+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+b,"g")});return a.replace(c,function(a,c,d){if(!b.pragmas_implemented[c]){throw{message:"This implementation of mustache doesn't understand the '"+c+"' pragma"}}b.pragmas[c]={};if(d){var e=d.split("=");b.pragmas[c][e[0]]=e[1]}return""})},render_partial:function(a,b,d){a=c(a);if(!d||d[a]===undefined){throw{message:"unknown_partial '"+a+"'"}}if(!b||typeof b[a]!="object"){return this.render(d[a],b,d,true)}return this.render(d[a],b[a],d,true)},render_section:function(a,b,c){if(!this.includes("#",a)&&!this.includes("^",a)){return false}var d=this;var e=this.getCachedRegex("render_section",function(a,b){return new RegExp("^([\\s\\S]*?)"+a+"(\\^|\\#)\\s*(.+)\\s*"+b+"\n*([\\s\\S]*?)"+a+"\\/\\s*\\3\\s*"+b+"\\s*([\\s\\S]*)$","g")});return a.replace(e,function(a,e,f,g,h,i){var j=e?d.render_tags(e,b,c,true):"",k=i?d.render(i,b,c,true):"",l,m=d.find(g,b);if(f==="^"){if(!m||Array.isArray(m)&&m.length===0){l=d.render(h,b,c,true)}else{l=""}}else if(f==="#"){if(Array.isArray(m)){l=d.map(m,function(a){return d.render(h,d.create_context(a),c,true)}).join("")}else if(d.is_object(m)){l=d.render(h,d.create_context(m),c,true)}else if(typeof m=="function"){l=m.call(b,h,function(a){return d.render(a,b,c,true)})}else if(m){l=d.render(h,b,c,true)}else{l=""}}return j+l+k})},render_tags:function(a,b,c,d){var e=this;var f=function(){return e.getCachedRegex("render_tags",function(a,b){return new RegExp(a+"(=|!|>|&|\\{|%)?([^#\\^]+?)\\1?"+b+"+","g")})};var h=f();var i=function(a,d,i){switch(d){case"!":return"";case"=":e.set_delimiters(i);h=f();return"";case">":return e.render_partial(i,b,c);case"{":case"&":return e.find(i,b);default:return g(e.find(i,b))}};var j=a.split("\n");for(var k=0;k<j.length;k++){j[k]=j[k].replace(h,i,this);if(!d){this.send(j[k])}}if(d){return j.join("\n")}},set_delimiters:function(a){var b=a.split(" ");this.otag=this.escape_regex(b[0]);this.ctag=this.escape_regex(b[1])},escape_regex:function(a){if(!arguments.callee.sRE){var b=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];arguments.callee.sRE=new RegExp("(\\"+b.join("|\\")+")","g")}return a.replace(arguments.callee.sRE,"\\$1")},find:function(a,b){function d(a){return a===false||a===0||a}a=c(a);var e;if(a.match(/([a-z_]+)\./ig)){var f=this.walk_context(a,b);if(d(f)){e=f}}else{if(d(b[a])){e=b[a]}else if(d(this.context[a])){e=this.context[a]}}if(typeof e=="function"){return e.apply(b)}if(e!==undefined){return e}return""},walk_context:function(a,b){var c=a.split(".");var d=b[c[0]]!=undefined?b:this.context;var e=d[c.shift()];while(e!=undefined&&c.length>0){d=e;e=e[c.shift()]}if(typeof e=="function"){return e.apply(d)}return e},includes:function(a,b){return b.indexOf(this.otag+a)!=-1},create_context:function(a){if(this.is_object(a)){return a}else{var b=".";if(this.pragmas["IMPLICIT-ITERATOR"]){b=this.pragmas["IMPLICIT-ITERATOR"].iterator}var c={};c[b]=a;return c}},is_object:function(a){return a&&typeof a=="object"},map:function(a,b){if(typeof a.map=="function"){return a.map(b)}else{var c=[];var d=a.length;for(var e=0;e<d;e++){c.push(b(a[e]))}return c}},getCachedRegex:function(a,b){var c=h[this.otag];if(!c){c=h[this.otag]={}}var d=c[this.ctag];if(!d){d=c[this.ctag]={}}var e=d[a];if(!e){e=d[a]=b(this.otag,this.ctag)}return e}};return{name:"mustache.js",version:"0.4.0",to_html:function(a,b,c,d){var e=new i;if(d){e.send=d}e.render(a,b||{},c);if(!d){return e.buffer.join("\n")}}}}();(function(){function b(a){if("".trim)return a.trim();else return a.replace(/^\s+/,"").replace(/\s+$/,"")}var c={VERSION:"0.10",templates:{},$:typeof window!=="undefined"?window.jQuery||window.Zepto||null:null,addTemplate:function(b,d){if(typeof b==="object"){for(var e in b){this.addTemplate(e,b[e])}return}if(c[b]&&!c.templates[b]){console.error("Invalid name: "+b+".")}else{c.templates[b]=d;c[b]=function(d,e){d=d||{};var f=a.to_html(c.templates[b],d,c.templates);return c.$&&!e?c.$(f):f}}},clearAll:function(){for(var a in c.templates){delete c[a]}c.templates={}},refresh:function(){c.clearAll();c.grabTemplates()},grabTemplates:function(){var a,d=document.getElementsByTagName("script"),e,f=[];for(a=0,l=d.length;a<l;a++){e=d[a];if(e&&e.innerHTML&&e.id&&(e.type==="text/html"||e.type==="text/x-icanhaz")){c.addTemplate(e.id,b(e.innerHTML));f.unshift(e)}}for(a=0,l=f.length;a<l;a++){f[a].parentNode.removeChild(f[a])}}};if(typeof require!=="undefined"){module.exports=c}else{window.ich=c}if(typeof document!=="undefined"){if(c.$){c.$(function(){c.grabTemplates()})}else{document.addEventListener("DOMContentLoaded",function(){c.grabTemplates()},true)}}})()})()